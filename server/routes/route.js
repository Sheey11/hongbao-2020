var express = require('express');
var router = express.Router();

// level 1 decryption
router.get('/', function(req, res, next) {
  res.render('index', { title: '宅在家里很无聊？' });
});

// level 2 find location header
router.get("/GgjXu2eKpqKCV3i2.html",(req, res, next)=>{
  res.header('Locatiom', 'https://hb.sheey.moe/WHtPJRko294ndUvh.json');
  res.render('lvl-2', { title: '来解密拿红包'});
});

// level 2 qrcode data
router.get("/WHtPJRko294ndUvh.json",(req, res, next)=>{
  res.status(200);
  res.json({
    "msg": "这里才是真正的线索哒 JOJO",
    "format": "square",
    "data": '1111111111111111111111111111111100000001000101001000010000000110111110101000001000001011111011010001011101000111001101000101101000101000101011000110100010110100010100010101001011010001011011111011011001101001101111101100000001010101010101010000000111111111110110110010001111111111011111001101111111101011001001110110111001001001010100111110111001100001001110010011010100011011101100100010010011111111101101001001101001011010010110100110100001010111001000010110110111001000000001110011110011000011111011111000100010001000110011111111110001111100000110101100011001001110100111110010100110111101001100011101010101101001110111001011110110100000011000011111100010011010010100110000010101111111111110111101110011100111110000000101000000110101010111111011111011010101000010111010101101000101101010111010000001001110100010111101011010000010110111010001011001100010100111110011101111101101110111011011101011110000000101100000110111111000111111111111111111111111111111111',
  });
});

// level 3 hb
router.get("/df6511d788004e4b.html",(req, res, next)=>{
  res.header('Locatiom', 'https://hb.sheey.moe/df6511d788004e4b.json');
  res.render('lvl-3', { title: '还没拿够？'});
});

// level 4 TODO
router.get("/TqPU.html",(req, res, next)=>{
  res.download('./public/resource/telnet.txt');
});

// clue
router.get("/clue.html",(req, res, next)=>{
  res.render('clue', { title: '这里还真没有线索'});
});

module.exports = router;
